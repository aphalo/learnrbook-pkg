---
title: "Installation and use"
subtitle: "'learnrbook' `r packageVersion('learnrbook')`"
author: "Pedro  J. Aphalo"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Installation and use}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Introduction

This package contains data sets used in the code examples in the book "Learn R:
As a Language" by Pedro J. Aphalo, available at <https://leanpub.com/learnr>.
The book uses mostly data sets included in the R distribution itself and in
packages available through CRAN, so few additional data sets are included as R
data in this package. However, to demonstrate the reading of foreign data
formats I use in the book several files. These files are part of this package
and installed in the `extdata` folder.

## Installation of packages

Installation of the package itself is not different to that of any other
package available through CRAN.

```{r, eval=FALSE}
install.packages("learnrbook")
```

In the code examples in the book I use several packages available from 
CRAN,. They are loaded in a code chunck at 
the start of chapters 6, 7, and 8, where they are used. To facilitate their
installation and use, vectors containing package names are provided.

To install all the packages used in the book you can use.

```{r, eval=FALSE}
install.packages(learnrbook::pkgs_all)
```

If you rather install only the packages used in a given chapter, for example,
chapter 7 on the _Gramamr of Graphics_ it is possible to install only these.

```{r, eval=FALSE}
install.packages(learnrbook::pkgs_ch_graphics)
```

## Use of examples files

Example files are installed in folder `extdata` under the root folder of the
installed package. The location and path to where a package is installed is
dependent on the operating system and account settings, and the settings in
the `.Rprofile` file. However, R provides a simple way for finding the path to
this folder.

```{r, eval=FALSE}
system.file("extdata", package = "learnrbook")
```

We can also easily get a list of the available example files.

```{r}
path2examples <- system.file("extdata", package = "learnrbook")
list.files(path2examples)
```

The formats of these files are:

| File name "tag" | Format | other |
|:-----------------|:--------|:--------------------------------|
| .SYS            | Systat | proprietary, format depends on operating system |
| .sav            | SPSS   | proprietary            |
| .txt            | text   |                        |
| .fwd            | text   | fixed-width data fields    |
| .csv            | text  | comma separated fields |
| .tsv            | text   | tab(ulator) separated values |
| .gpx            | text   | GPS position data, XML based     |
| .nc             | NetCDF | binary, with metadata               |
| .xlsx           | Excel  | "workbooks", XML based and compressed |
| .ods            | ODS    | non-proprietary, XML based  |
| .R              | text   | R script file   |

Most data files are used in Chapter 8 _Data Input and Output_. The R script
example in Chapter 3 _The R language: “Paragraphs” and “essays”_

The sources of the data in these files, and a short descriptions of the data
follows. However, see the individual help pages for additional details on the data sets.

| File           | when saved | Data |Source |
|:---------------|:-----------|:-----|-----------|
| BIRCH1.SYS     | 1992       | Birch seeedlings | Aphalo and Rikala (2002) |
| Book1.xlsx     | 2017       | artificial data | Original |
| logger_1.txt   | 2016       | from Yocto Puce datalogger | Original, P. J. Aphalo |
| meteo-data.nc  | 2017       | meteorological |            |
| my-data.sav    |        | artificial |       |
| my-data.xlsx   |        | artificial |       |
| pet_ltm.nc     | 2014       | meteorological | Data of Anders Lindfors, FMI |
| pevpr.sfc.mon.ltm.nc | ???? | ???? | ???? |
| thiamin.sav    | ????       |           |         |

_currently incomplete list_

